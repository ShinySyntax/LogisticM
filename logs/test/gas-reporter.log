$ truffle test
Using network 'development'.


Compiling your contracts...
===========================
> Compiling ./test/TestBytesLib.sol
> Compilation warnings encountered:

    /home/thykof/Documents/stage 4A/logistic-react-drizzle/contracts/upgradeability/Upgradeable.sol:18:25: Warning: Unused function parameter. Remove or comment out the variable name to silence this warning.
    function initialize(address sender) public {
                        ^------------^
,/home/thykof/Documents/stage 4A/logistic-react-drizzle/contracts/upgradeability/Upgradeable.sol:18:5: Warning: Function state mutability can be restricted to view
    function initialize(address sender) public {
    ^ (Relevant source part starts here and spans across multiple lines).
,/home/thykof/Documents/stage 4A/logistic-react-drizzle/test/TestBytesLib.sol:7:5: Warning: Function state mutability can be restricted to pure
    function testConvertBytesToBytes4() public {
    ^ (Relevant source part starts here and spans across multiple lines).

> Artifacts written to /tmp/test-2020811-4218-7yk3mb.bl3gw
> Compiled successfully using:
   - solc: 0.5.5+commit.47a71e8f.Emscripten.clang

Proxy created at 0xBeDDB344cD126ba206e60A5fEb6CfC26f62D8f6F

  TestBytesLib
    ✓ testConvertBytesToBytes4 (21362 gas)

  Contract: AccessImplementation & OwnerImplementation
    ✓ Owner (24878 gas)
    ✓ transferOwnership (115564 gas)
    ✓ Getter
    ✓ Add a supplier with name (115961 gas)
    ✓ Add a delivery man with name (117347 gas)
    ✓ Add a supplier (101372 gas)
    ✓ Add delivery men (101124 gas)
    When other is supplier
      ✓ Remove supplier (47761 gas)
      ✓ Renounce supplier (48372 gas)
      ✓ Other can't be delivery man (28651 gas)
    When other is delivery man
      ✓ Remove delivery man (47735 gas)
      ✓ Renounce delivery man (48366 gas)
      ✓ Other can't be supplier (28695 gas)

  Contract: ERC721BaseImplementation
    ✓ totalSupply
    ✓ tokenByIndex
    ✓ tokenOfOwnerByIndex
    ✓ balanceOf
    ✓ ownerOf
    ✓ Name
    ✓ Symbol
    ✓ baseURI
    ✓ tokenURI
    ✓ Mint (190657 gas)
    ✓ Burn (129489 gas)
    ✓ Approve (93377 gas)
    ✓ getApproved
    ✓ Transfer (318161 gas)
    ✓ setApprovalForAll (66997 gas)

  Contract: ERC721LogisticImplementation
    ✓ Initialize (24507 gas)
    ✓ Name
    ✓ Get counter
    ✓ Mint (138442 gas)
    ✓ Approve (48983 gas)
    ✓ Transfer (61116 gas)
    ✓ setApprovalForAll (24128 gas)
    ✓ safeTransferFrom (50247 gas)

  Contract: Handover
    ✓ Create product (514204 gas)
    Handover supplier -> deliveryMan1
      ✓ Send product (165454 gas)
      ✓ Receive product (167212 gas)
    Handover deliveryMan1 -> deliveryMan2
      ✓ Receive product (176094 gas)
      ✓ Send product (264740 gas)
    Handover deliveryMan2 -> purchaser
      ✓ Send product (257160 gas)
      ✓ Receive product (239603 gas)
    Should failed with...
      ✓ ...bad caller (174530 gas)
      ✓ ...argument (118308 gas)
    When paused
      ✓ Create product (25767 gas)
      ✓ Send product (25320 gas)

  Contract: Logistic
    ✓ Set lock (146342 gas)

  Contract: Name
    ✓ Set name (188805 gas)

  Contract: Pause
    PauseImplementation
      ✓ Only Owner (48666 gas)
      ✓ Pause (72254 gas)
      ✓ UnPause (43037 gas)
      ✓ when unlock (102144 gas)

  Contract: Product
    ProductImplementation
      ✓ Should revert if locked (77184 gas)
      ✓ Product exists
      When unlocked (i.e. called by the proxy)
        ✓ New product (233785 gas)
        ✓ Set product sent (132123 gas)
        ✓ Set product received (131951 gas)

  Contract: Proxy
    ✓ upgradeTo (670016 gas)
    ✓ transferRegistryOwnership (76024 gas)
    ✓ transferProxyOwnership (76368 gas)
    ✓ Revert when unknow func

  Contract: Proxy
    ✓ addFallback (95886 gas)
    ✓ addVersionFromName (142635 gas)
    ✓ Add version from signature (60865 gas)
    ✓ Upgrade functions (126902 gas)

·--------------------------------------------------------------|----------------------------|-------------|----------------------------·
|             Solc version: 0.5.5+commit.47a71e8f              ·  Optimizer enabled: false  ·  Runs: 200  ·  Block limit: 6721975 gas  │
·······························································|····························|·············|·····························
|  Methods                                                                                                                             │
·································|·····························|··············|·············|·············|··············|··············
|  Contract                      ·  Method                     ·  Min         ·  Max        ·  Avg        ·  # calls     ·  eur (avg)  │
·································|·····························|··············|·············|·············|··············|··············
|  AccessImplementation          ·  addDeliveryMan             ·           -  ·          -  ·      50642  ·           5  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  AccessImplementation          ·  addDeliveryManWithName     ·           -  ·          -  ·     117347  ·           2  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  AccessImplementation          ·  addSupplier                ·           -  ·          -  ·      50686  ·           4  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  AccessImplementation          ·  addSupplierWithName        ·           -  ·          -  ·     115961  ·           2  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  AccessImplementation          ·  removeDeliveryMan          ·           -  ·          -  ·      19863  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  AccessImplementation          ·  removeSupplier             ·           -  ·          -  ·      19876  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  AccessImplementation          ·  renounceDeliveryMan        ·           -  ·          -  ·      21712  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  AccessImplementation          ·  renounceSupplier           ·           -  ·          -  ·      21690  ·           2  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ERC721BaseImplementation      ·  approve                    ·           -  ·          -  ·      48983  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ERC721BaseImplementation      ·  transferFrom               ·           -  ·          -  ·      61116  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ERC721LogisticImplementation  ·  mint                       ·           -  ·          -  ·     138442  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ERC721Mock                    ·  approve                    ·           -  ·          -  ·      45956  ·           3  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ERC721Mock                    ·  burnToken                  ·       51673  ·      54675  ·      53674  ·           3  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ERC721Mock                    ·  mintToken                  ·           -  ·          -  ·     145728  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ERC721Mock                    ·  safeTransferFrom           ·           -  ·          -  ·      82625  ·           2  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ERC721Mock                    ·  setApprovalForAll          ·           -  ·          -  ·      44925  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ERC721Mock                    ·  transferFrom               ·           -  ·          -  ·     105588  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  HandoverImplementation        ·  createProduct              ·           -  ·          -  ·     338806  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  HandoverImplementation        ·  receive                    ·      118204  ·     167242  ·     157422  ·           5  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  HandoverImplementation        ·  send                       ·      165454  ·     190604  ·     171730  ·           5  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  LogisticProxy                 ·  setLock                    ·       29060  ·      29072  ·      29061  ·          15  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  LogisticProxy                 ·  transferProxyOwnership     ·           -  ·          -  ·      30916  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  LogisticProxy                 ·  upgradeTo                  ·           -  ·          -  ·     646856  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  NameImplementation            ·  setName                    ·       35414  ·      79233  ·      57324  ·           2  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  OwnedRegistry                 ·  addFallback                ·           -  ·          -  ·      48034  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  OwnedRegistry                 ·  addVersion                 ·           -  ·          -  ·      60865  ·           2  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  OwnedRegistry                 ·  addVersionFromName         ·           -  ·          -  ·      92010  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  OwnedRegistry                 ·  createProxy                ·           -  ·          -  ·    3198352  ·           6  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  OwnedRegistry                 ·  transferRegistryOwnership  ·           -  ·          -  ·      30780  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  OwnedRegistry                 ·  upgradeFunctions           ·           -  ·          -  ·     126902  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  OwnerImplementation           ·  transferOwnership          ·           -  ·          -  ·      33017  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  PauseImplementation           ·  pause                      ·           -  ·          -  ·      47034  ·          16  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  PauseImplementation           ·  unpause                    ·           -  ·          -  ·      17864  ·          11  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ProductImplementation         ·  newProduct                 ·           -  ·          -  ·     233785  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ProductImplementation         ·  setProductReceived         ·           -  ·          -  ·      53777  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  ProductImplementation         ·  setProductSent             ·           -  ·          -  ·      53820  ·           1  ·          -  │
·································|·····························|··············|·············|·············|··············|··············
|  Deployments                                                 ·                                          ·  % of limit  ·             │
·······························································|··············|·············|·············|··············|··············
|  AccessImplementation                                        ·           -  ·          -  ·    1418713  ·      21.1 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  ERC721LogisticImplementation                                ·           -  ·          -  ·    2388125  ·      35.5 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  ERC721Mock                                                  ·           -  ·          -  ·    3184694  ·      47.4 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  HandoverImplementation                                      ·           -  ·          -  ·    1749649  ·        26 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  Migrations                                                  ·           -  ·          -  ·     162255  ·       2.4 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  MockImplementationV0                                        ·           -  ·          -  ·      75183  ·       1.1 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  NameImplementation                                          ·           -  ·          -  ·     621611  ·       9.2 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  OwnedRegistry                                               ·           -  ·          -  ·    3570850  ·      53.1 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  OwnerImplementation                                         ·           -  ·          -  ·     432154  ·       6.4 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  PauseImplementation                                         ·           -  ·          -  ·     344792  ·       5.1 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  ProductImplementation                                       ·           -  ·          -  ·    1510368  ·      22.5 %  ·          -  │
·······························································|··············|·············|·············|··············|··············
|  RolesLibrary                                                ·           -  ·          -  ·     561875  ·       8.4 %  ·          -  │
·--------------------------------------------------------------|--------------|-------------|-------------|--------------|-------------·

  67 passing (1m)
